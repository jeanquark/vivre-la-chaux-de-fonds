(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{102:function(t,a,e){"use strict";e.r(a);var s=e(0),n=e.n(s),r=e(4),o=e.n(r),i=e(1),c=e.n(i);function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},s=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.forEach(function(a){l(t,a,e[a])})}return t}function l(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function v(t,a,e,s,n,r,o){try{var i=t[r](o),c=i.value}catch(t){return void e(t)}i.done?a(c):Promise.resolve(c).then(s,n)}function f(t){return function(){var a=this,e=arguments;return new Promise(function(s,n){var r=t.apply(a,e);function o(t){v(r,s,n,o,i,"next",t)}function i(t){v(r,s,n,o,i,"throw",t)}o(void 0)})}}var p={components:{},created:function(){var t=f(n.a.mark(function t(){var a,e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/google-analytics-data");case 2:a=t.sent,e=a.data,console.log("data: ",e),this.gaDataByDate=e[0].reports[0].data,this.gaDataByCountry=e[1].reports[0].data,this.chartOptions=u({},this.chartOptions,{xaxis:{categories:this.gaDataByDate.rows.filter(function(t,a){return a>9}).map(function(t){return c()(t.dimensions[0]).format("MMM-DD")})}}),this.series[0]=u({},this.series[0],{data:this.gaDataByDate.rows.filter(function(t,a){return a>9}).map(function(t){return parseInt(t.metrics[0].values[0])})});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){var t=f(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{gaDataByDate:{},gaDataByCountry:{},chartOptions:{chart:{id:"vuechart-example",toolbar:{show:!1}},title:{text:"Nombre de sessions ces 10 derniers jours",align:"center",fontSize:"14px"},xaxis:{categories:[]},yaxis:{labels:{formatter:function(t){return t}}}},series:[{name:"Sessions",data:[]}],statNames:["Sessions","Pages vues","Nouveaux utilisateurs","Taux de rebond"]}},computed:{},methods:{calcDiff:function(t,a){return parseFloat((t-a)/a*100).toFixed(0)}}},d=(e(284),e(2)),y=Object(d.a)(p,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-container",[e("h2",{staticClass:"text-center"},[t._v("Tableau de bord VLCF")]),t._v(" "),e("br"),t._v(" "),e("div",{staticStyle:{display:"none"}},[e("h4",{staticClass:"text-center"},[t._v("Statistiques de fréquentation du site:")]),t._v(" "),e("h6",{staticClass:"text-center"},[t._v("(Les données proviennent de Google Analytics)")]),t._v(" "),e("b-row",{staticClass:"justify-content-center my-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"12",md:"6"}},[e("apexchart",{attrs:{type:"bar",options:t.chartOptions,series:t.series}})],1)],1),t._v(" "),e("b-row",{staticClass:"justify-content-center my-4",attrs:{"align-v":"start"}},[t.gaDataByDate.totals?e("b-col",{attrs:{cols:"12",md:"6"}},[e("h5",{staticClass:"text-center"},[t._v("Totaux sur les 10 derniers jours")]),t._v(" "),e("br"),t._v(" "),t._l(t.statNames,function(a,s){return e("p",{key:s},[t._v("\n                    "+t._s(a)+":\n                    "),e("b-badge",{attrs:{variant:"primary"}},[e("span",{staticStyle:{"font-size":"1.2em","line-height":"1.4"}},[t._v(t._s(parseFloat(t.gaDataByDate.totals[0].values[s]).toFixed(0))+t._s(3===s?"%":""))])]),t._v(" \n                    "),e("b-badge",{attrs:{variant:s<3?parseInt(t.calcDiff(t.gaDataByDate.totals[0].values[s],t.gaDataByDate.totals[1].values[s]))>=0?"success":"danger":parseInt(t.calcDiff(t.gaDataByDate.totals[0].values[s],t.gaDataByDate.totals[1].values[s]))>=0?"danger":"success"}},[e("span",{staticStyle:{"font-size":"1.2em","line-height":"1.4"}},[t._v(t._s(t.calcDiff(t.gaDataByDate.totals[0].values[s],t.gaDataByDate.totals[1].values[s]))+"% ")])]),t._v(" "),e("b-badge",{attrs:{variant:"secondary"}},[t._v(t._s(parseFloat(t.gaDataByDate.totals[1].values[s]).toFixed(0))+t._s(3===s?"%":""))]),t._v(" il y a entre 20 et 10 jours\n                ")],1)})],2):t._e(),t._v(" "),e("b-col",{attrs:{cols:"12",md:"4"}},[e("h6",{staticClass:"text-center"},[t._v("Top 10 des sessions par villes ces 30 derniers jours")]),t._v(" "),e("ul",t._l(t.gaDataByCountry.rows,function(a,s){return e("li",{key:s},[t._v("\n                        "+t._s(a.dimensions[0])+" "),e("b-badge",{attrs:{variant:"primary"}},[t._v(t._s(a.metrics[0].values[0]))])],1)}),0)])],1)],1)])},[],!1,null,"62b9f377",null);a.default=y.exports},284:function(t,a,e){"use strict";var s=e(44);e.n(s).a},285:function(t,a,e){(t.exports=e(6)(!1)).push([t.i,"\n.small[data-v-62b9f377] {\r\n    max-width: 600px;\r\n    margin: 150px auto;\n}\r\n",""])},44:function(t,a,e){var s=e(285);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(7)(s,n);s.locals&&(t.exports=s.locals)}}]);