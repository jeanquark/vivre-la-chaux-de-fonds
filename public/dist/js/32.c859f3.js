(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{317:function(n,t,a){"use strict";var e=a(61);a.n(e).a},318:function(n,t,a){(n.exports=a(6)(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* ANIMATIONS */\n\n/* Simple CSS3 Fade-in-down Animation */\n.fadeInDown[data-v-9f8eee98] {\n  -webkit-animation-name: fadeInDown-data-v-9f8eee98;\n  animation-name: fadeInDown-data-v-9f8eee98;\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n@-webkit-keyframes fadeInDown-data-v-9f8eee98 {\n0% {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n}\n100% {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n}\n}\n@keyframes fadeInDown-data-v-9f8eee98 {\n0% {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n}\n100% {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n}\n}\n",""])},61:function(n,t,a){var e=a(318);"string"==typeof e&&(e=[[n.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(7)(e,r);e.locals&&(n.exports=e.locals)},91:function(n,t,a){"use strict";a.r(t);var e=a(0),r=a.n(e),o=a(4),s=a.n(o);function i(n,t,a,e,r,o,s){try{var i=n[o](s),m=i.value}catch(n){return void a(n)}i.done?t(m):Promise.resolve(m).then(e,r)}var m={middleware:"guest",layout:"frontend",components:{},metaInfo:function(){return{title:"S'enregistrer"}},data:function(){return{form:new s.a({name:"",email:"",password:"",password_confirmation:""}),mustVerifyEmail:!1}},methods:{register:function(){var n,t=(n=r.a.mark(function n(){var t,a,e,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.form.post("/api/register");case 2:if(t=n.sent,!(a=t.data).status){n.next=8;break}this.mustVerifyEmail=!0,n.next=18;break;case 8:return n.next=10,this.form.post("/api/login");case 10:return e=n.sent,o=e.data.token,this.$store.dispatch("auth/saveToken",{token:o}),n.next=15,this.$store.dispatch("auth/updateUser",{user:a});case 15:return n.next=17,this.$store.dispatch("auth/fetchUser");case 17:this.$router.push({name:"accueil"});case 18:case"end":return n.stop()}},n,this)}),function(){var t=this,a=arguments;return new Promise(function(e,r){var o=n.apply(t,a);function s(n){i(o,e,r,s,m,"next",n)}function m(n){i(o,e,r,s,m,"throw",n)}s(void 0)})});return function(){return t.apply(this,arguments)}}()}},l=(a(317),a(2)),f=Object(l.a)(m,function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center align-items-center fadeInDown"},[a("div",{staticClass:"col-lg-8 m-auto"},[n.mustVerifyEmail?a("card",{attrs:{title:"Enregistrement"}},[a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[n._v("\n                        "+n._s(n.$t("verify_email_address"))+"\n                    ")])]):a("card",{attrs:{title:"S'enregistrer"}},[a("form",{on:{submit:function(t){return t.preventDefault(),n.register(t)},keydown:function(t){return n.form.onKeydown(t)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[n._v("Nom")]),n._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":n.form.errors.has("name")},attrs:{type:"text",name:"name"},domProps:{value:n.form.name},on:{input:function(t){t.target.composing||n.$set(n.form,"name",t.target.value)}}}),n._v(" "),a("has-error",{attrs:{form:n.form,field:"name"}})],1)]),n._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[n._v("E-mail")]),n._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":n.form.errors.has("email")},attrs:{type:"email",name:"email"},domProps:{value:n.form.email},on:{input:function(t){t.target.composing||n.$set(n.form,"email",t.target.value)}}}),n._v(" "),a("has-error",{attrs:{form:n.form,field:"email"}})],1)]),n._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[n._v("Mot de passe")]),n._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":n.form.errors.has("password")},attrs:{type:"password",name:"password"},domProps:{value:n.form.password},on:{input:function(t){t.target.composing||n.$set(n.form,"password",t.target.value)}}}),n._v(" "),a("has-error",{attrs:{form:n.form,field:"password"}})],1)]),n._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[n._v("Confirmer mot de passe")]),n._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:n.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control",class:{"is-invalid":n.form.errors.has("password_confirmation")},attrs:{type:"password",name:"password_confirmation"},domProps:{value:n.form.password_confirmation},on:{input:function(t){t.target.composing||n.$set(n.form,"password_confirmation",t.target.value)}}}),n._v(" "),a("has-error",{attrs:{form:n.form,field:"password_confirmation"}})],1)]),n._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-7 offset-md-3 d-flex"},[a("v-button",{attrs:{loading:n.form.busy}},[n._v("\n                                    S'enregistrer\n                                ")])],1)])])])],1)])])},[],!1,null,"9f8eee98",null);t.default=f.exports}}]);