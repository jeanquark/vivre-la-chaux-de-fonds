(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{40:function(t,e,s){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e){t.exports=function(t,e,s,n,i,r){var o,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(o=t,a=t.default);var c,l="function"==typeof a?a.options:a;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),s&&(l.functional=!0),i&&(l._scopeId=i),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var p=l.functional,d=p?l.render:l.beforeCreate;p?(l._injectStyles=c,l.render=function(t,e){return c.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:o,exports:a,options:l}}},function(t,e,s){var n=s(0)(s(2),null,!1,null,null,null);n.options.__file="src/PrettyCheckbox.vue",t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i={name:"pretty-checkbox",input_type:"checkbox",model:n.model,props:n.props,data:n.data,computed:n.computed,watch:n.watch,mounted:n.mounted,methods:n.methods,render:n.render};e.default=i},function(t,e,s){var n=s(0)(s(4),s(5),!1,null,null,null);n.options.__file="src/PrettyInput.vue",t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pretty-input",model:{prop:"modelValue",event:"change"},props:{type:String,name:String,value:{},modelValue:{},trueValue:{},falseValue:{},checked:{},disabled:{},required:{},indeterminate:{},color:String,offColor:String,hoverColor:String,indeterminateColor:String,toggle:{},hover:{},focus:{}},data:function(){return{m_checked:void 0,default_mode:!1}},computed:{_type:function(){return this.$options.input_type?this.$options.input_type:this.type?this.type:"checkbox"},shouldBeChecked:function(){return void 0!==this.modelValue?"radio"===this._type?this.modelValue===this.value:this.modelValue instanceof Array?this.modelValue.includes(this.value):this._trueValue?this.modelValue===this.trueValue:"string"==typeof this.modelValue||!!this.modelValue:void 0===this.m_checked?this.m_checked="string"==typeof this.checked||!!this.checked:this.m_checked},_disabled:function(){return"string"==typeof this.disabled||!!this.disabled},_required:function(){return"string"==typeof this.required||!!this.required},_indeterminate:function(){return"string"==typeof this.indeterminate||!!this.indeterminate},_trueValue:function(){return"string"==typeof this.trueValue?this.trueValue:!!this.trueValue},_falseValue:function(){return"string"==typeof this.falseValue?this.falseValue:!!this.falseValue},_toggle:function(){return"string"==typeof this.toggle||!!this.toggle},_hover:function(){return"string"==typeof this.hover||!!this.hover},_focus:function(){return"string"==typeof this.focus||!!this.focus},classes:function(){return{pretty:!0,"p-default":this.default_mode,"p-round":"radio"===this._type&&this.default_mode,"p-toggle":this._toggle,"p-has-hover":this._hover,"p-has-focus":this._focus,"p-has-indeterminate":this._indeterminate}},onClasses:function(){var t={state:!0,"p-on":this._toggle};return this.color&&(t["p-"+this.color]=!0),t},offClasses:function(){var t={state:!0,"p-off":!0};return this.offColor&&(t["p-"+this.offColor]=!0),t},hoverClasses:function(){var t={state:!0,"p-is-hover":!0};return this.hoverColor&&(t["p-"+this.hoverColor]=!0),t},indeterminateClasses:function(){var t={state:!0,"p-is-indeterminate":!0};return this.indeterminateColor&&(t["p-"+this.indeterminateColor]=!0),t}},watch:{checked:function(t){this.m_checked=t},indeterminate:function(t){this.$refs.input.indeterminate=t}},mounted:function(){this.$vnode.data&&!this.$vnode.data.staticClass&&(this.default_mode=!0),this._indeterminate&&(this.$refs.input.indeterminate=!0),this.$el.setAttribute("p-"+this._type,"")},methods:{updateInput:function(t){if("radio"!==this._type){this.$emit("update:indeterminate",!1);var e=t.target.checked;if(this.m_checked=e,this.modelValue instanceof Array){var s=[].concat(function(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}(this.modelValue));e?s.push(this.value):s.splice(s.indexOf(this.value),1),this.$emit("change",s)}else this.$emit("change",e?!this._trueValue||this.trueValue:!!this._falseValue&&this.falseValue)}else this.$emit("change",this.value)}}}},function(t,e,s){var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.classes},[e("input",{ref:"input",attrs:{type:this._type,name:this.name,disabled:this._disabled,required:this._required},domProps:{checked:this.shouldBeChecked,value:this.value},on:{change:this.updateInput}}),this._v(" "),e("div",{class:this.onClasses},[this._t("extra"),this._v(" "),e("label",[this._t("default")],2)],2),this._v(" "),this._toggle?e("div",{class:this.offClasses},[this._t("off-extra"),this._v(" "),this._t("off-label")],2):this._e(),this._v(" "),this._hover?e("div",{class:this.hoverClasses},[this._t("hover-extra"),this._v(" "),this._t("hover-label")],2):this._e(),this._v(" "),this._indeterminate?e("div",{class:this.indeterminateClasses},[this._t("indeterminate-extra"),this._v(" "),this._t("indeterminate-label")],2):this._e()])};n._withStripped=!0,t.exports={render:n,staticRenderFns:[]}}])},81:function(t,e,s){"use strict";s.r(e);var n=s(0),i=s.n(n),r=(s(3),s(13)),o=s.n(r),a=(s(27),s(40)),u=s.n(a),c=s(14),l=s.n(c);s(28);function p(t,e,s,n,i,r,o){try{var a=t[r](o),u=a.value}catch(t){return void s(t)}a.done?e(u):Promise.resolve(u).then(n,i)}function d(t){return function(){var e=this,s=arguments;return new Promise(function(n,i){var r=t.apply(e,s);function o(t){p(r,n,i,o,a,"next",t)}function a(t){p(r,n,i,o,a,"throw",t)}o(void 0)})}}var h={layout:"backend",components:{VueCtkDateTimePicker:o.a,"p-check":u.a,Multiselect:l.a},created:function(){var t=d(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.getters["activities/activities"].length<1&&this.$store.dispatch("activities/fetchActivities");case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mounted:function(){var t=d(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(this.$route.params.id),console.log("sponsorId: ",e),t.next=4,this.$store.dispatch("sponsors/fetchSponsor",{sponsorId:e});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{new_image:{}}},computed:{activities:function(){return this.$store.getters["activities/activities"]},sponsors:function(){return this.$store.getters["sponsors/sponsors"]},sponsor:function(){return this.$store.getters["sponsors/sponsor"]}},methods:{uploadImage:function(t){console.log("uploadImage",t),console.log(t.target),console.log(t.target.files[0]),this.new_image=t.target.files[0]},updateSponsor:function(){var t=d(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("sponsors/updateSponsor",{sponsor:this.sponsor,image:this.new_image});case 3:this.$noty.success("Sponsor mis à jour avec succè!"),this.$router.push("/admin/sponsors"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error: ",t.t0),this.$noty.error("Une erreur est survenue et le sponsor n'a pas pu être mise à jour.");case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()}},f=s(2),m=Object(f.a)(h,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",[s("b-breadcrumb",[s("b-breadcrumb-item",{staticClass:"navigation",attrs:{to:"/admin/sponsors"}},[s("font-awesome-icon",{attrs:{icon:"dollar-sign"}}),t._v(" "),s("span",[t._v("Sponsors")])],1),t._v(" "),s("b-breadcrumb-item",{attrs:{active:""}},[t._v("Montrer")])],1),t._v(" "),t.sponsor?s("form",{on:{submit:function(e){return e.preventDefault(),t.updateSponsor(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Nom")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sponsor.name,expression:"sponsor.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:""},domProps:{value:t.sponsor.name},on:{input:function(e){e.target.composing||t.$set(t.sponsor,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"contribution"}},[t._v("Contribution")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sponsor.contribution,expression:"sponsor.contribution"}],staticClass:"form-control",attrs:{type:"textarea",id:"contribution",placeholder:""},domProps:{value:t.sponsor.contribution},on:{input:function(e){e.target.composing||t.$set(t.sponsor,"contribution",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"row my-2"},[s("div",{staticClass:"col-12 col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"image"}},[t._v("Image actuelle:")]),s("br"),t._v(" "),t.sponsor.image?s("img",{attrs:{src:"/images/"+t.sponsors.image,width:"200"}}):s("span",[s("i",[t._v("Pas d'image")])])])]),t._v(" "),s("div",{staticClass:"col-12 col-md-6"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"image"}},[t._v("Nouvelle image:")]),s("br"),t._v(" "),s("input",{attrs:{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg"},on:{change:function(e){return t.uploadImage(e)}}})])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("VueCtkDateTimePicker",{attrs:{label:"Date de fin de sponsoring","only-date":"",format:"YYYY-MM-DD",formatted:"YYYY-MM-DD",color:"#9ACD32","button-color":"#9ACD32","button-now-translation":"Maintenant"},model:{value:t.sponsor.end_date,callback:function(e){t.$set(t.sponsor,"end_date",e)},expression:"sponsor.end_date"}})],1),t._v(" "),s("div",{staticClass:"row align-items-center my-2"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"image"}},[t._v("Activités pour ce sponsor:")]),s("br"),t._v(" "),s("multiselect",{attrs:{label:"title","track-by":"id",options:t.activities,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"preselect-first":!0,placeholder:"Sélectionner un sponsor",selectLabel:"Appuyer sur Entrée pour sélectionner",selectedLabel:"Sélectionné",deselectLabel:"Appuyer sur entrée pour désélectionner"},model:{value:t.sponsor.activities,callback:function(e){t.$set(t.sponsor,"activities",e)},expression:"sponsor.activities"}})],1)])]),t._v(" "),s("div",{staticClass:"col-12 col-md-6"},[s("p-check",{staticClass:"p-curve p-bigger p-jelly",attrs:{name:"check",color:"primary","button-now-translation":"Maintenant"},model:{value:t.sponsor.is_active,callback:function(e){t.$set(t.sponsor,"is_active",e)},expression:"sponsor.is_active"}},[t._v("Actif ?")])],1),t._v(" "),s("div",{staticClass:"row my-3"},[s("div",{staticClass:"col-12 text-center"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Editer sponsor")])])])]):t._e()],1)},[],!1,null,"d6a7d70c",null);e.default=m.exports}}]);